{"ast":null,"code":"var _jsxFileName = \"/home/talha/Documents/Projects/twitter-search/src/search/search.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport './search.css';\nimport oauthSignature from 'oauth-signature';\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.searchAPI = 'https://api.twitter.com/1.1/search/tweets.json?oauth_consumer_key=w2USKpLcIw6MEWJfXngli6f8T&oauth_token=179807117-5UDyBQwzTiuhX3v6qPpKmOzsqhZwzRLldtjrnWqS&oauth_signature_method=HMAC-SHA1&oauth_timestamp=1574875580&oauth_nonce=0yUGmC&oauth_version=1.0&oauth_signature=zsoJQYJh1c2Ck0KLiVxgXQTPYtE%3D&result_type=mixed&count=2';\n    this.state = {\n      searchValue: '',\n      isSearchPerformed: false,\n      meals: []\n    };\n\n    this.onSearchChange = event => {\n      this.setState({\n        searchValue: event.target.value\n      });\n    };\n\n    this.search = () => {\n      this.fetchTweets(this.state.searchValue);\n    };\n\n    this.clearSearch = () => {\n      this.setState({\n        searchValue: ''\n      });\n    };\n\n    this.fetchTweets = async searchInput => {\n      const options = {\n        url: \"/1.1/search/tweets.json?q=\".concat(searchInput).concat(this.getQueryParams()),\n        method: 'GET',\n        headers: {\n          'cache-control': 'no-cache'\n        }\n      };\n      const response = await axios(options);\n      debugger;\n    };\n\n    this.getQueryParams = () => {\n      const queryParams = ['oauth_consumer_key', 'oauth_token', 'oauth_signature_method', 'oauth_timestamp', 'oauth_nonce', 'oauth_version', 'oauth_signature', 'result_type', 'count'];\n      debugger;\n      let queryParam = '';\n      queryParams.forEach(param => {\n        queryParam += \"&\".concat(param, \"=\").concat(process.env[\"REACT_APP_\".concat(param)]);\n      });\n      return queryParam;\n    };\n\n    this.fetchMeals = async searchInput => {\n      const searchUrl = \"\".concat(this.searchAPI, \"?s=\").concat(searchInput); // fetch(searchUrl)\n      //   .then(response => {\n      //     return response.json();\n      //   })\n      //   .then(jsonData => {\n      //     this.setState({ meals: jsonData.meals || [], isSearchPerformed: true });\n      //   });\n\n      const res = await axios(searchUrl, {\n        method: 'GET'\n      });\n      this.setState({\n        meals: res.data.meals || [],\n        isSearchPerformed: true\n      });\n    };\n  }\n\n  generateOauthSignature() {\n    var httpMethod = 'GET',\n        url = 'http://photos.example.net/photos',\n        parameters = {\n      oauth_consumer_key: 'dpf43f3p2l4k3l03',\n      oauth_token: 'nnch734d00sl2jdk',\n      oauth_nonce: 'kllo9940pd9333jh',\n      oauth_timestamp: '1191242096',\n      oauth_signature_method: 'HMAC-SHA1',\n      oauth_version: '1.0',\n      file: 'vacation.jpg',\n      size: 'original'\n    },\n        consumerSecret = 'kd94hf93k423kf44',\n        tokenSecret = 'pfkkdhi9sl3r4s00',\n        // generates a RFC 3986 encoded, BASE64 encoded HMAC-SHA1 hash\n    encodedSignature = oauthSignature.generate(httpMethod, url, parameters, consumerSecret, tokenSecret),\n        // generates a BASE64 encode HMAC-SHA1 hash\n    signature = oauthSignature.generate(httpMethod, url, parameters, consumerSecret, tokenSecret, {\n      encodeSignature: false\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Meal Search App\"), React.createElement(\"input\", {\n      name: \"text\",\n      type: \"text\",\n      placeholder: \"Enter something to search\",\n      onChange: event => this.onSearchChange(event),\n      value: this.state.searchValue,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.search,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Search\"), React.createElement(\"button\", {\n      onClick: this.clearSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Clear Search\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, this.state.meals.map((meal, index) => React.createElement(\"div\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, meal.strMeal), React.createElement(\"img\", {\n      src: meal.strMealThumb,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    })))), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, this.state.meals.length === 0 && this.state.isSearchPerformed === true ? 'No data found' : ''));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/home/talha/Documents/Projects/twitter-search/src/search/search.js"],"names":["React","Component","axios","oauthSignature","Search","searchAPI","state","searchValue","isSearchPerformed","meals","onSearchChange","event","setState","target","value","search","fetchTweets","clearSearch","searchInput","options","url","getQueryParams","method","headers","response","queryParams","queryParam","forEach","param","process","env","fetchMeals","searchUrl","res","data","generateOauthSignature","httpMethod","parameters","oauth_consumer_key","oauth_token","oauth_nonce","oauth_timestamp","oauth_signature_method","oauth_version","file","size","consumerSecret","tokenSecret","encodedSignature","generate","signature","encodeSignature","render","map","meal","index","strMeal","strMealThumb","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport './search.css';\nimport oauthSignature from 'oauth-signature';\n\nclass Search extends Component {\n  // searchAPI = 'https://www.themealdb.com/api/json/v1/1/search.php';\n  searchAPI = 'https://api.twitter.com/1.1/search/tweets.json?oauth_consumer_key=w2USKpLcIw6MEWJfXngli6f8T&oauth_token=179807117-5UDyBQwzTiuhX3v6qPpKmOzsqhZwzRLldtjrnWqS&oauth_signature_method=HMAC-SHA1&oauth_timestamp=1574875580&oauth_nonce=0yUGmC&oauth_version=1.0&oauth_signature=zsoJQYJh1c2Ck0KLiVxgXQTPYtE%3D&result_type=mixed&count=2';\n  state = {\n    searchValue: '',\n    isSearchPerformed: false,\n    meals: []\n  };\n\n  onSearchChange = event => {\n    this.setState({ searchValue: event.target.value });\n  };\n\n  search = () => {\n    this.fetchTweets(this.state.searchValue);\n  };\n\n  clearSearch = () => {\n    this.setState({ searchValue: '' });\n  };\n\n  fetchTweets = async searchInput => {\n    const options = {\n      url: `/1.1/search/tweets.json?q=${searchInput}${this.getQueryParams()}`,\n      method: 'GET',\n      headers: { 'cache-control': 'no-cache' },\n    };\n\n    const response = await axios(options);\n\n    debugger;\n  };\n\n  generateOauthSignature() {\n    var httpMethod = 'GET',\n      url = 'http://photos.example.net/photos',\n      parameters = {\n        oauth_consumer_key: 'dpf43f3p2l4k3l03',\n        oauth_token: 'nnch734d00sl2jdk',\n        oauth_nonce: 'kllo9940pd9333jh',\n        oauth_timestamp: '1191242096',\n        oauth_signature_method: 'HMAC-SHA1',\n        oauth_version: '1.0',\n        file: 'vacation.jpg',\n        size: 'original'\n      },\n      consumerSecret = 'kd94hf93k423kf44',\n      tokenSecret = 'pfkkdhi9sl3r4s00',\n      // generates a RFC 3986 encoded, BASE64 encoded HMAC-SHA1 hash\n      encodedSignature = oauthSignature.generate(httpMethod, url, parameters, consumerSecret, tokenSecret),\n      // generates a BASE64 encode HMAC-SHA1 hash\n      signature = oauthSignature.generate(httpMethod, url, parameters, consumerSecret, tokenSecret,\n        { encodeSignature: false });\n\n\n  }\n\n  getQueryParams = () => {\n    const queryParams = [\n      'oauth_consumer_key',\n      'oauth_token',\n      'oauth_signature_method',\n      'oauth_timestamp',\n      'oauth_nonce',\n      'oauth_version',\n      'oauth_signature',\n      'result_type',\n      'count'\n    ];\n    debugger;\n    let queryParam = '';\n    queryParams.forEach(param => {\n      queryParam += `&${param}=${process.env[`REACT_APP_${param}`]}`\n    });\n    return queryParam;\n  }\n\n  fetchMeals = async searchInput => {\n    const searchUrl = `${this.searchAPI}?s=${searchInput}`;\n    // fetch(searchUrl)\n    //   .then(response => {\n    //     return response.json();\n    //   })\n    //   .then(jsonData => {\n    //     this.setState({ meals: jsonData.meals || [], isSearchPerformed: true });\n    //   });\n\n    const res = await axios(searchUrl, { method: 'GET' });\n    this.setState({ meals: res.data.meals || [], isSearchPerformed: true })\n  };\n\n  render() {\n    return (\n      <div>\n        <h1>Meal Search App</h1>\n        <input\n          name=\"text\"\n          type=\"text\"\n          placeholder=\"Enter something to search\"\n          onChange={event => this.onSearchChange(event)}\n          value={this.state.searchValue}\n        />\n        <button onClick={this.search}>Search</button>\n        <button onClick={this.clearSearch}>Clear Search</button>\n        <div>\n          {this.state.meals.map((meal, index) => (\n            <div key={index}>\n              <h2>{meal.strMeal}</h2>\n              <img src={meal.strMealThumb} />\n            </div>\n          ))}\n        </div>\n        <p>{this.state.meals.length === 0 && this.state.isSearchPerformed === true ? 'No data found' : ''}</p>\n      </div>\n    );\n  }\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}